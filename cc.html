<!DOCTYPE html>
<html>
<head>
  <title>PoC - Custom Picker XSS</title>
  <style>
    body { font-family: sans-serif; background: #f5f5f5; padding: 20px; }
    #output { padding: 1rem; background: white; border: 2px solid #ccc; margin-top: 20px; }
  </style>
</head>
<body>
  <h2>🧪 Rebuilt Picker Component (Simulated)</h2>
  <p>Waiting for <code>postMessage</code> containing <code>marketerId</code>...</p>

  <div id="output">Nothing received yet.</div>

  <script>
    window.addEventListener("message", (event) => {
      console.log("📥 Message received:", event.data);

      if (event.data?.message === "OB_SHOULD_SHOW_PICKER") {
        const content = event.data.content?.marketerId || "⚠️ No marketerId provided";
        document.getElementById("output").innerHTML = content;
      }
    });
  </script>
</body>
</html>
