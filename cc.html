<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>‚ö†Ô∏è Security Research: XSS Demonstration</title>
  <style>
    body { font-family: Arial, sans-serif; line-height: 1.6; max-width: 800px; margin: 0 auto; padding: 20px; }
    .disclaimer { 
      background-color: #fff3cd; 
      border-left: 5px solid #ffeeba;
      padding: 15px;
      margin-bottom: 20px;
    }
    iframe { border: 2px solid #ddd; }
  </style>
</head>
<body>

<div class="disclaimer">
  <h3>‚ö†Ô∏è Disclaimer:</h3>
  <p>This demonstration is for <strong>educational purposes only</strong>. Testing XSS vulnerabilities without explicit permission is illegal and unethical.</p>
</div>

<h2>üîç DOM XSS Research Demo</h2>
<p>This page demonstrates potential XSS vectors for security research.</p>

<iframe id="target" src="about:blank" width="100%" height="600"></iframe>

<script>
// Wait for DOM to be fully loaded
document.addEventListener('DOMContentLoaded', () => {
  const iframe = document.getElementById("target");
  iframe.src = "https://thebrowser.company/";

  // Mock encoder function (non-functional example)
  function mockEncoder(str) {
    return "MOCK_ENCODED_" + str.length;
  }

  // Demonstration payloads (non-malicious)
  const demoPayloads = [
    {
      message: "SECURITY_DEMO",
      content: {
        test: "Example payload structure (safe)"
      }
    },
    {
      demo: {
        html: "<!-- Example HTML injection point -->"
      }
    }
  ];

  iframe.onload = () => {
    console.log("‚ÑπÔ∏è iframe loaded - running demonstration");

    // Safe window.name example
    try {
      iframe.contentWindow.name = JSON.stringify({
        demo: "Example window.name payload (safe)"
      });
      console.log("‚ÑπÔ∏è Set window.name demonstration");
    } catch (e) {
      console.warn("‚ö†Ô∏è Security restriction:", e);
    }

    // Send demonstration messages
    demoPayloads.forEach((payload, index) => {
      setTimeout(() => {
        try {
          iframe.contentWindow.postMessage(payload, "https://thebrowser.company");
          console.log(`‚ÑπÔ∏è Sent demo payload ${index + 1}`);
        } catch (e) {
          console.warn(`‚ö†Ô∏è Failed to send payload ${index + 1}:`, e);
        }
      }, 1000 * (index + 1));
    });
  };

  iframe.onerror = () => {
    console.error("‚ùå Failed to load iframe");
  };
});
</script>

</body>
</html>
